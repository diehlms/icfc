{"ast":null,"code":"var _templateObject,\n    _jsxFileName = \"/Users/diehl/Documents/Projects/icfc/app/javascript/src/components/staticPages/Forms.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport React, { useEffect, useState } from 'react';\nimport Title from '../shared/PageTitle';\nimport { Tab, Divider, Button, Icon } from 'semantic-ui-react';\nimport { ListGroup, ListGroupItem } from 'react-bootstrap';\nimport styled from 'styled-components';\nimport DocumentUpload from '../shared/DocumentUpload';\nimport axiosClient from '../../services/axios';\nvar RailsLink = styled.a(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n\"])));\nexport default function Forms(props) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      forms = _useState2[0],\n      setForms = _useState2[1];\n\n  var panes = [{\n    menuItem: 'Miscellaneous',\n    render: function render() {\n      return /*#__PURE__*/React.createElement(Tab.Pane, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 17\n        }\n      }, !!forms && forms.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 29\n        }\n      }, forms.map(function (form, i) {\n        return /*#__PURE__*/React.createElement(ListGroupItem, {\n          key: i,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(RailsLink, {\n          href: form.document.url,\n          target: \"_blank\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 45\n          }\n        }, form.document_title), props.isAdmin ? /*#__PURE__*/React.createElement(Button, {\n          onClick: function onClick(e) {\n            return deleteDoc(e, form.id);\n          },\n          size: \"mini\",\n          circular: true,\n          color: \"red\",\n          floated: \"right\",\n          icon: true,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          name: \"trash\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 57\n          }\n        })) : /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 53\n          }\n        }));\n      })) : /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 29\n        }\n      })));\n    }\n  }];\n\n  var deleteDoc = function deleteDoc(e, formId) {\n    e.preventDefault();\n    axiosClient[\"delete\"](\"documents/destroy/\".concat(formId)).then(function (res) {})[\"catch\"](function (err) {\n      setError(err.response.data.errors);\n    });\n  };\n\n  useEffect(function () {\n    var isMounted = true;\n    axiosClient.get(\"documents/index/forms\").then(function (res) {\n      if (isMounted) {\n        setForms(res.data);\n      }\n    })[\"catch\"](function (err) {\n      setError(err.response.data.errors);\n    });\n    return function () {\n      isMounted = false;\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"reactPageAppContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    size: \"h1\",\n    text: \"Forms\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), props.isAdmin ? /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(DocumentUpload, {\n    folderName: \"forms\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Tab, {\n    panes: panes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/diehl/Documents/Projects/icfc/app/javascript/src/components/staticPages/Forms.js"],"names":["React","useEffect","useState","Title","Tab","Divider","Button","Icon","ListGroup","ListGroupItem","styled","DocumentUpload","axiosClient","RailsLink","a","Forms","props","forms","setForms","panes","menuItem","render","length","map","form","i","document","url","document_title","isAdmin","e","deleteDoc","id","formId","preventDefault","then","res","err","setError","response","data","errors","isMounted","get"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Title from '../shared/PageTitle';\nimport { Tab, Divider, Button, Icon } from 'semantic-ui-react';\nimport { ListGroup, ListGroupItem } from 'react-bootstrap';\nimport styled from 'styled-components';\nimport DocumentUpload from '../shared/DocumentUpload';\nimport axiosClient from '../../services/axios';\n\nconst RailsLink = styled.a`\n`;\n\nexport default function Forms(props) {\n    const [forms, setForms] = useState([]);\n\n    const panes = [\n        {\n            menuItem: 'Miscellaneous',\n            render: () => \n            <Tab.Pane>\n                <ListGroup>\n                    {\n                        !!forms && forms.length > 0 ? (\n                            <React.Fragment>\n                                {\n                                    forms.map((form, i) => (\n                                        <ListGroupItem\n                                            key={i}\n                                        >\n                                            <RailsLink \n                                                href={form.document.url} \n                                                target=\"_blank\">\n                                                    {form.document_title}\n                                            </RailsLink>\n                                            {\n                                                props.isAdmin ? (\n                                                    <Button onClick={e => deleteDoc(e, form.id)} size='mini' circular color='red' floated='right' icon>\n                                                        <Icon name='trash' />\n                                                    </Button>\n                                                ) : (\n                                                    <React.Fragment />\n                                                )\n                                            }\n                                        </ListGroupItem>\n                                    ))\n                                }\n                            </React.Fragment>\n                        ) : (\n                            <React.Fragment />\n                        )\n                    }\n                </ListGroup>\n            </Tab.Pane>\n        }\n    ];\n\n    const deleteDoc = (e, formId) => {\n        e.preventDefault();\n        axiosClient.delete(`documents/destroy/${formId}`)\n        .then(res => {\n        })\n        .catch(err => {\n            setError(err.response.data.errors);\n        });\n    }\n\n    useEffect(() => {\n        let isMounted = true;\n        axiosClient.get(`documents/index/forms`)\n        .then(res => {\n            if (isMounted) {\n                setForms(res.data)\n            }\n        })\n        .catch(err => {\n            setError(err.response.data.errors);\n        });\n        return () => {\n            isMounted = false;\n        }\n    }, []);\n\n    return (\n        <div className=\"reactPageAppContainer\">\n            <Title \n                size=\"h1\"\n                text=\"Forms\"\n            />\n            {\n                props.isAdmin ? (\n                    <React.Fragment>\n                        <DocumentUpload \n                            folderName='forms'\n                        />\n                        <Divider />    \n                    </React.Fragment>   \n                ) : (\n                    <React.Fragment />\n                )\n            }              \n            <Tab panes={panes} />\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}