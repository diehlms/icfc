{"ast":null,"code":"var _jsxFileName = \"/Users/diehl/Documents/Projects/icfc/app/javascript/src/components/shared/DocumentUpload.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useEffect, useState } from 'react';\nimport { Form, Button } from 'semantic-ui-react';\nimport { useDispatch } from 'react-redux';\nimport * as actions from '../../store/actions/index';\nimport axiosClient from '../../services/axios';\nexport default function FormUpload(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      file = _useState2[0],\n      setFile = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      documentName = _useState4[0],\n      setDocumentName = _useState4[1];\n\n  var dispatch = useDispatch();\n\n  var fileUpload = function fileUpload(e) {\n    setFile(e.target.files[0]);\n  };\n\n  var postDocument = function postDocument(e) {\n    e.preventDefault();\n    var body = new FormData();\n    body.append('document', file);\n    body.append('document_title', documentName);\n    body.append('document_folder', props.folderName);\n    axiosClient.post(\"documents/create\", body).then(function (res) {})[\"catch\"](function (err) {\n      dispatch(actions.setErrors(err.response.data.errors));\n    });\n  };\n\n  useEffect(function () {}, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 25\n    }\n  }, \"Document Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"title\",\n    onChange: function onChange(e) {\n      return setDocumentName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, \"Document Folder\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: props.folderName,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, \"File\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: function onChange(e) {\n      return fileUpload(e);\n    },\n    type: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: function onClick(e) {\n      return postDocument(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n}","map":{"version":3,"sources":["/Users/diehl/Documents/Projects/icfc/app/javascript/src/components/shared/DocumentUpload.js"],"names":["React","useEffect","useState","Form","Button","useDispatch","actions","axiosClient","FormUpload","props","file","setFile","documentName","setDocumentName","dispatch","fileUpload","e","target","files","postDocument","preventDefault","body","FormData","append","folderName","post","then","res","err","setErrors","response","data","errors","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Form, Button } from 'semantic-ui-react';\nimport { useDispatch } from 'react-redux'\nimport * as actions from '../../store/actions/index';\nimport axiosClient from '../../services/axios';\n\nexport default function FormUpload(props) {\n    const [file, setFile] = useState(null);\n    const [documentName, setDocumentName] = useState('');\n    const dispatch = useDispatch();\n\n    const fileUpload = (e) => {\n        setFile(e.target.files[0]);\n    }   \n\n    const postDocument = (e) => {\n        e.preventDefault();\n        let body = new FormData();\n        body.append('document', file);\n        body.append('document_title', documentName);\n        body.append('document_folder', props.folderName);\n        axiosClient.post(`documents/create`, body)\n        .then(res => {\n        })\n        .catch(err => {\n            dispatch(actions.setErrors(err.response.data.errors));\n        });\n    }\n\n    useEffect(() => {\n    }, []);\n\n    return (\n        <React.Fragment>\n              <Form>\n                    <Form.Field>\n                        <label>Document Title</label>\n                        <input placeholder='title' \n                            onChange={e => setDocumentName(e.target.value)}\n                        />\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Document Folder</label>\n                        <input \n                            placeholder={props.folderName} \n                            disabled\n                        />\n                    </Form.Field>\n                    <Form.Field>\n                        <label>File</label>\n                        <input \n                            onChange={e => fileUpload(e)}\n                            type=\"file\"\n                        />\n                    </Form.Field>\n                <Button type='submit' onClick={e => postDocument(e)}>Submit</Button>\n            </Form>\n        </React.Fragment>\n\n    );\n}"]},"metadata":{},"sourceType":"module"}