{"ast":null,"code":"var _templateObject,\n    _jsxFileName = \"/Users/diehl/Documents/Projects/icfc/app/javascript/src/components/committees/Index.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport React, { useEffect, useState } from 'react';\nimport Title from '../shared/PageTitle';\nimport { Accordion, Icon, Form, Button } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport axiosClient from '../../services/axios';\nimport { useDispatch } from 'react-redux';\nimport * as actions from '../../store/actions/index';\nvar CommitteeForm = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\nmargin-bottom: 10px;\\nmax-width: 40%;\\n\"])));\n\nfunction CommitteeUpload(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      committeeName = _useState2[0],\n      setCommitteeName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      committeeUrl = _useState4[0],\n      setCommitteeUrl = _useState4[1];\n\n  var dispatch = useDispatch();\n\n  var postCommittee = function postCommittee(e) {\n    e.preventDefault();\n    var body = {\n      name: committeeName,\n      url: committeeUrl\n    };\n    axiosClient.post(\"committees/create\", body).then(function (res) {})[\"catch\"](function (err) {\n      dispatch(actions.setErrors(err.response.data.errors));\n    });\n  };\n\n  useEffect(function () {}, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, \"Committee Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"title\",\n    onChange: function onChange(e) {\n      return setCommitteeName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, \"Committee Link\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"title\",\n    onChange: function onChange(e) {\n      return setCommitteeUrl(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: function onClick(e) {\n      return postCommittee(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n}\n\nexport default function Forms(props) {\n  var _this = this;\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      committees = _useState6[0],\n      setCommittees = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      activeIndex = _useState8[0],\n      setActiveIndex = _useState8[1];\n\n  var dispatch = useDispatch();\n\n  var deleteCommittee = function deleteCommittee(e, committeeId) {\n    e.preventDefault();\n    axiosClient[\"delete\"](\"committees/destroy/\".concat(committeeId)).then(function (res) {})[\"catch\"](function (err) {\n      dispatch(actions.setErrors(\"We're having trouble finding rideshares for your request. Please try again later\"));\n    });\n  };\n\n  useEffect(function () {\n    var isMounted = true;\n    axiosClient.get(\"committees\").then(function (res) {\n      console.log(res);\n\n      if (isMounted) {\n        setCommittees(res.data);\n      }\n    })[\"catch\"](function (err) {\n      dispatch(actions.setErrors(\"We're having trouble finding rideshares for your request. Please try again later\"));\n    });\n    return function () {\n      isMounted = false;\n    };\n  }, []);\n\n  var handleClick = function handleClick(e, titleProps) {\n    var index = titleProps.index;\n    var newIndex = activeIndex === index ? -1 : index;\n    setActiveIndex({\n      activeIndex: newIndex\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"reactPageAppContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    size: \"h1\",\n    text: \"Committees\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CommitteeForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, props.isAdmin ? /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CommitteeUpload, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Accordion, {\n    styled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, committees.map(function (committee, i) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Accordion.Title, {\n      active: true,\n      index: 0,\n      onClick: handleClick,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"dropdown\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 33\n      }\n    }), committee.name), /*#__PURE__*/React.createElement(Accordion.Content, {\n      active: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: committee.url,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 33\n      }\n    }, \"Click here for more info\"), props.isAdmin ? /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: function onClick(e) {\n        return deleteCommittee(e, committee.id);\n      },\n      size: \"mini\",\n      circular: true,\n      color: \"red\",\n      floated: \"right\",\n      icon: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"trash\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 57\n      }\n    }))) : /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 41\n      }\n    })));\n  })));\n}","map":{"version":3,"sources":["/Users/diehl/Documents/Projects/icfc/app/javascript/src/components/committees/Index.js"],"names":["React","useEffect","useState","Title","Accordion","Icon","Form","Button","styled","axiosClient","useDispatch","actions","CommitteeForm","div","CommitteeUpload","props","committeeName","setCommitteeName","committeeUrl","setCommitteeUrl","dispatch","postCommittee","e","preventDefault","body","name","url","post","then","res","err","setErrors","response","data","errors","target","value","Forms","committees","setCommittees","activeIndex","setActiveIndex","deleteCommittee","committeeId","isMounted","get","console","log","handleClick","titleProps","index","newIndex","isAdmin","map","committee","i","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Title from '../shared/PageTitle';\nimport { Accordion, Icon, Form, Button } from 'semantic-ui-react'\nimport styled from 'styled-components';\nimport axiosClient from '../../services/axios';\n\nimport { useDispatch } from 'react-redux';\nimport * as actions from '../../store/actions/index';\n\nconst CommitteeForm = styled.div`\nmargin-bottom: 10px;\nmax-width: 40%;\n`;\n\nfunction CommitteeUpload(props) {\n    const [committeeName, setCommitteeName] = useState(null);\n    const [committeeUrl, setCommitteeUrl] = useState('');\n    const dispatch = useDispatch();\n\n    const postCommittee = (e) => {\n        e.preventDefault();\n        let body = {\n            name: committeeName,\n            url: committeeUrl   \n        }\n        axiosClient.post(`committees/create`, body)\n        .then(res => {\n        })\n        .catch(err => {\n            dispatch(actions.setErrors(err.response.data.errors));\n        });\n    }\n\n    useEffect(() => {\n    }, []);\n\n    return (\n        <React.Fragment>\n              <Form>\n                    <Form.Field>\n                        <label>Committee Name</label>\n                        <input placeholder='title' \n                            onChange={e => setCommitteeName(e.target.value)}\n                        />\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Committee Link</label>\n                        <input placeholder='title' \n                            onChange={e => setCommitteeUrl(e.target.value)}\n                        />\n                    </Form.Field>\n                <Button type='submit' onClick={e => postCommittee(e)}>Submit</Button>\n            </Form>\n        </React.Fragment>\n\n    );\n}\n\nexport default function Forms(props) {\n    const [committees, setCommittees] = useState([]);\n    const [activeIndex, setActiveIndex] = useState([]);\n\n    const dispatch = useDispatch();\n\n    const deleteCommittee = (e, committeeId) => {\n        e.preventDefault();\n        axiosClient.delete(`committees/destroy/${committeeId}`)\n        .then(res => {\n        })\n        .catch(err => {\n            dispatch(actions.setErrors(\n                \"We're having trouble finding rideshares for your request. Please try again later\"\n            ));\n        });\n    }\n\n    useEffect(() => {\n        let isMounted = true;\n        axiosClient.get(`committees`)\n        .then(res => {\n            console.log(res)\n            if (isMounted) {\n                setCommittees(res.data)\n            }\n        })\n        .catch(err => {\n            dispatch(actions.setErrors(\n                \"We're having trouble finding rideshares for your request. Please try again later\"\n            ));\n        });\n        return () => {\n            isMounted = false;\n        }\n    }, []);\n\n    const handleClick = (e, titleProps) => {\n        const { index } = titleProps\n        const newIndex = activeIndex === index ? -1 : index\n    \n        setActiveIndex({ activeIndex: newIndex })\n      }\n    \n      \n    return (\n        <div className=\"reactPageAppContainer\">\n            <Title \n                size=\"h1\"\n                text=\"Committees\"\n            />\n            <CommitteeForm>\n                {\n                    props.isAdmin ? (\n                        <React.Fragment>\n                            <CommitteeUpload \n                            />  \n                        </React.Fragment>   \n                    ) : (\n                        <React.Fragment />\n                    )\n                }\n            </CommitteeForm>\n            <Accordion styled>\n            {\n                committees.map((committee, i) => {\n                    return (\n                        <React.Fragment key={i}>\n                            <Accordion.Title\n                                active={true}\n                                index={0}\n                                onClick={handleClick}\n                            >\n                                <Icon name='dropdown' />\n                                {committee.name}\n                            </Accordion.Title>\n                            <Accordion.Content active={true}>\n                                <a href={committee.url}>Click here for more info</a>\n                                {\n                                    props.isAdmin ? (\n                                        <React.Fragment>\n                                            <Button onClick={e => deleteCommittee(e, committee.id)} size='mini' circular color='red' floated='right' icon>\n                                                        <Icon name='trash' />\n                                                    </Button>\n                                        </React.Fragment>   \n                                    ) : (\n                                        <React.Fragment />\n                                    )\n                                }\n                            </Accordion.Content>\n                        </React.Fragment>\n                    )\n                })\n            }     \n            </Accordion>\n      </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}